webpackJsonp([4],{49:function(t,e,n){"use strict";function a(t){s||n(78)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),o=n(79),s=!1,r=n(14),l=a,c=r(i.a,o.a,!1,l,"data-v-2f96db1e",null);c.options.__file="src/views/admin/users.vue",e.default=c.exports},50:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(4),o=n.n(i),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=o.a.create({baseURL:"localhost"===location.hostname?"http://localhost:3030":"https://jieapi.herokuapp.com/",headers:{"Content-Type":"application/json"}}),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.defaultData=e,this.ajax=r}return s(t,[{key:"setDefaultData",value:function(t){for(var e in t)r.defaults.headers[e]=t[e]}}]),t}();e.a=new l},60:function(t,e,n){"use strict";var a=n(50);e.a={data:function(){var t=this;return{isCollapsed:!1,list:[],detail:{},showDetail:!1,columns:[{title:"Id",key:"_id"},{title:"标题",key:"title"},{title:"Action",key:"action",width:150,align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(n)}}},"详细"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(n)}}},"删除")])}}]}},methods:{isok:function(){this.showDetail=!1},show:function(t){this.detail=t.row,this.showDetail=!0},remove:function(t){var e=this;this.$Modal.confirm({title:"确定要删除！",content:"<p>删除后无法恢复，请慎重！</p>",onOk:function(){a.a.ajax.delete("users/"+t.row._id).then(function(n){e.$Message.info("删除成功！"),e.list.splice(t.index,1)}).catch(function(t){console.log(t)})},onCancel:function(){}})}},created:function(){var t=this;a.a.ajax.get("users").then(function(e){console.log(e),t.list=e.data.data,t.reset()}).catch(function(t){console.log(t)})}}},78:function(t,e){},79:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Table",{attrs:{border:"",columns:t.columns,data:t.list}}),t._v(" "),n("Modal",{attrs:{title:"公司详细"},on:{"on-ok":t.isok},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},t._l(t.detail,function(e,a){return n("Row",{key:a,staticClass:"item",attrs:{gutter:16}},[n("Col",{attrs:{span:"6"}},[n("div",[t._v(t._s(a))])]),t._v(" "),n("Col",{attrs:{span:"18"}},[n("div",[t._v(t._s(e))])])],1)}))],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.a=o}});